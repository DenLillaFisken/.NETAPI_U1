#pragma checksum "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "4a3d44f2e4fcdcd2002b95cec1eb2815b647896e"
// <auto-generated/>
#pragma warning disable 1591
namespace Blazor.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\alexa\source\repos\U1_API\Blazor\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\alexa\source\repos\U1_API\Blazor\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\alexa\source\repos\U1_API\Blazor\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\alexa\source\repos\U1_API\Blazor\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\alexa\source\repos\U1_API\Blazor\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\alexa\source\repos\U1_API\Blazor\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\alexa\source\repos\U1_API\Blazor\_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\alexa\source\repos\U1_API\Blazor\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\alexa\source\repos\U1_API\Blazor\_Imports.razor"
using Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\alexa\source\repos\U1_API\Blazor\_Imports.razor"
using Blazor.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\alexa\source\repos\U1_API\Blazor\_Imports.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/showIssues")]
    public partial class ShowIssues : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenComponent<Blazor.Shared.Auth>(0);
            __builder.CloseComponent();
            __builder.AddMarkupContent(1, "\r\n\r\n");
            __builder.AddMarkupContent(2, "<h1 class=\"text-center\">Issues</h1>\r\n");
            __builder.AddMarkupContent(3, "<p>This is all the issues</p>\r\n\r\n");
            __builder.OpenElement(4, "div");
            __builder.AddAttribute(5, "class", "border");
            __builder.AddMarkupContent(6, "<p class=\"p-1\">Filters:</p>\r\n    ");
            __builder.OpenElement(7, "div");
            __builder.AddAttribute(8, "class", "form-row");
            __builder.OpenElement(9, "div");
            __builder.AddAttribute(10, "class", "col p-3");
            __builder.OpenElement(11, "select");
            __builder.AddAttribute(12, "class", "form-control mb-2");
            __builder.AddAttribute(13, "onselect", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.EventArgs>(this, 
#nullable restore
#line 12 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                                                                        (() => GetStatus(status))

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(14, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 12 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                                                     status

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(15, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => status = __value, status));
            __builder.SetUpdatesAttributeName("value");
            __builder.OpenElement(16, "option");
            __builder.AddAttribute(17, "selected");
            __builder.AddAttribute(18, "disabled");
            __builder.AddAttribute(19, "value", "-1");
            __builder.AddContent(20, "Get status:");
            __builder.CloseElement();
            __builder.AddMarkupContent(21, "\r\n                ");
            __builder.OpenElement(22, "option");
            __builder.AddAttribute(23, "value", "Active");
            __builder.AddContent(24, " Status: Active");
            __builder.CloseElement();
            __builder.AddMarkupContent(25, "\r\n                ");
            __builder.OpenElement(26, "option");
            __builder.AddAttribute(27, "value", "OnGoing");
            __builder.AddContent(28, " Status: Ongoing");
            __builder.CloseElement();
            __builder.AddMarkupContent(29, "\r\n                ");
            __builder.OpenElement(30, "option");
            __builder.AddAttribute(31, "value", "Closed");
            __builder.AddContent(32, " Status: Closed");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(33, "\r\n            ");
            __builder.OpenElement(34, "button");
            __builder.AddAttribute(35, "class", "form-control");
            __builder.AddAttribute(36, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 18 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                                                   (() => GetStatus(status))

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(37, "Show status");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(38, "\r\n        ");
            __builder.OpenElement(39, "div");
            __builder.AddAttribute(40, "class", "col p-3");
            __builder.OpenElement(41, "input");
            __builder.AddAttribute(42, "class", "form-control mb-2");
            __builder.AddAttribute(43, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 21 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                                                    customerid

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(44, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => customerid = __value, customerid));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(45, "\r\n            ");
            __builder.OpenElement(46, "button");
            __builder.AddAttribute(47, "class", "form-control");
            __builder.AddAttribute(48, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 22 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                                                   (() => GetCustomerId(customerid))

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(49, "Get Customer Id");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(50, "\r\n        ");
            __builder.OpenElement(51, "div");
            __builder.AddAttribute(52, "class", "col p-3");
            __builder.OpenElement(53, "button");
            __builder.AddAttribute(54, "class", "form-control mb-2");
            __builder.AddAttribute(55, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 25 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                                                        GetDates

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(56, "Sort by date");
            __builder.CloseElement();
            __builder.AddMarkupContent(57, "\r\n            ");
            __builder.OpenElement(58, "button");
            __builder.AddAttribute(59, "class", "form-control");
            __builder.AddAttribute(60, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 26 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                                                   (() => OnInitializedAsync())

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(61, "Show all");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 31 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
 if (issues == null)
{

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(62, "<p>No issues found</p>");
#nullable restore
#line 34 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
}
else
{

#line default
#line hidden
#nullable disable
            __builder.OpenElement(63, "div");
            __builder.AddAttribute(64, "class", "col-4 p-3");
            __builder.AddAttribute(65, "hidden", 
#nullable restore
#line 37 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                                    IsShow

#line default
#line hidden
#nullable disable
            );
            __builder.OpenElement(66, "p");
            __builder.AddAttribute(67, "class", "border p-1");
            __builder.AddContent(68, 
#nullable restore
#line 38 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                               IdPlaceholder

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(69, "\r\n        ");
            __builder.OpenElement(70, "p");
            __builder.AddAttribute(71, "class", "border p-1");
            __builder.AddContent(72, 
#nullable restore
#line 39 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                               customerIdPlaceholder

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(73, "\r\n        ");
            __builder.OpenElement(74, "p");
            __builder.AddAttribute(75, "class", "border p-1");
            __builder.AddContent(76, 
#nullable restore
#line 40 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                               UserIdPlaceholder

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(77, "\r\n        ");
            __builder.OpenElement(78, "p");
            __builder.AddAttribute(79, "class", "border p-1");
            __builder.AddContent(80, 
#nullable restore
#line 41 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                               IssueDatePlaceholder

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(81, "\r\n        ");
            __builder.OpenElement(82, "p");
            __builder.AddAttribute(83, "class", "border p-1");
            __builder.AddContent(84, 
#nullable restore
#line 42 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                               UpdateDatePlaceholder

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(85, "\r\n        ");
            __builder.OpenElement(86, "select");
            __builder.AddAttribute(87, "class", "form-control mb-2");
            __builder.AddAttribute(88, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 43 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                                                 StatusPlaceholder

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(89, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => StatusPlaceholder = __value, StatusPlaceholder));
            __builder.SetUpdatesAttributeName("value");
            __builder.OpenElement(90, "option");
            __builder.AddAttribute(91, "value", "Active");
            __builder.AddContent(92, "Active");
            __builder.CloseElement();
            __builder.AddMarkupContent(93, "\r\n            ");
            __builder.OpenElement(94, "option");
            __builder.AddAttribute(95, "value", "OnGoing");
            __builder.AddContent(96, "Ongoing");
            __builder.CloseElement();
            __builder.AddMarkupContent(97, "\r\n            ");
            __builder.OpenElement(98, "option");
            __builder.AddAttribute(99, "value", "Closed");
            __builder.AddContent(100, "Closed");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(101, "\r\n        ");
            __builder.OpenElement(102, "button");
            __builder.AddAttribute(103, "class", "form-control");
            __builder.AddAttribute(104, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 48 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                                               (() => UpdateIssue())

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(105, "Update");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.OpenElement(106, "table");
            __builder.AddAttribute(107, "class", "table");
            __builder.AddAttribute(108, "style", "margin-top: 50px");
            __builder.AddMarkupContent(109, "<tr><th>Customer Id</th>\r\n            <th>User Id</th>\r\n            <th>Issue Dater</th>\r\n            <th>Update Date</th>\r\n            <th>Issue Status</th></tr>");
#nullable restore
#line 60 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
         foreach (var issue in issues)
        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(110, "tr");
            __builder.OpenElement(111, "td");
            __builder.AddContent(112, 
#nullable restore
#line 63 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                     issue.CustomerId

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(113, "\r\n                ");
            __builder.OpenElement(114, "td");
            __builder.AddContent(115, 
#nullable restore
#line 64 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                     issue.UserId

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(116, "\r\n                ");
            __builder.OpenElement(117, "td");
            __builder.AddContent(118, 
#nullable restore
#line 65 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                     issue.IssueDate

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(119, "\r\n                ");
            __builder.OpenElement(120, "td");
            __builder.AddContent(121, 
#nullable restore
#line 66 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                     issue.UpdateDate

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(122, "\r\n                ");
            __builder.OpenElement(123, "td");
            __builder.AddContent(124, 
#nullable restore
#line 67 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                     issue.IssueStatus

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(125, "\r\n                ");
            __builder.OpenElement(126, "td");
            __builder.OpenElement(127, "button");
            __builder.AddAttribute(128, "class", "btn-success");
            __builder.AddAttribute(129, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 68 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
                                                          (() => FetchUpdateData(issue))

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(130, "Update");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 70 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 72 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 74 "C:\Users\alexa\source\repos\U1_API\Blazor\Pages\ShowIssues.razor"
       
    private IEnumerable<Issue> issues;
    private Issue fetchedIssue;
    string status;
    int customerid;
    private bool IsShow { get; set; } = true;

    int IdPlaceholder;
    int customerIdPlaceholder;
    int UserIdPlaceholder;
    DateTime IssueDatePlaceholder;
    DateTime UpdateDatePlaceholder;
    string StatusPlaceholder;



    protected override async Task OnInitializedAsync()
    {
        issues = await Http.GetFromJsonAsync<IEnumerable<Issue>>("https://localhost:44338/api/Issues");
    }
    async Task GetStatus(string status)
    {
        issues = await Http.GetFromJsonAsync<IEnumerable<Issue>>($"https://localhost:44338/api/Issues/status?i={status}");
    }
    async Task GetDates()
    {
        issues = await Http.GetFromJsonAsync<IEnumerable<Issue>>("https://localhost:44338/api/Issues/dates");
    }

    async Task GetCustomerId(int customerid)
    {
        issues = await Http.GetFromJsonAsync<IEnumerable<Issue>>($"https://localhost:44338/api/Issues/customerid?i={customerid}");
    }


    private void FetchUpdateData(Issue test)
    {
        fetchedIssue = test;
        IsShow = false;

        IdPlaceholder = test.Id;
        customerIdPlaceholder = test.CustomerId;
        UserIdPlaceholder = test.UserId;
        IssueDatePlaceholder = test.IssueDate;
        UpdateDatePlaceholder = test.UpdateDate;
        StatusPlaceholder = test.IssueStatus;
    }
    private async Task UpdateIssue()
    {
        fetchedIssue.Id = IdPlaceholder;
        fetchedIssue.CustomerId = customerIdPlaceholder;
        fetchedIssue.UserId = UserIdPlaceholder;
        fetchedIssue.IssueDate = IssueDatePlaceholder;
        fetchedIssue.UpdateDate = DateTime.Now;
        fetchedIssue.IssueStatus = StatusPlaceholder;

        Console.WriteLine(fetchedIssue);

        await Http.PutAsJsonAsync<Issue>($"https://localhost:44338/api/Issues/update?id={fetchedIssue.Id}", fetchedIssue);
        fetchedIssue = new Issue();
        IsShow = true;
    }

    protected override void OnInitialized()
    {
        fetchedIssue = new Issue();
    }

    public class Issue
    {
        public int Id { get; set; }
        public int UserId { get; set; }
        public int CustomerId { get; set; }
        public DateTime IssueDate { get; set; }
        public DateTime UpdateDate { get; set; }
        public string IssueStatus { get; set; }
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private HttpClient Http { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private Blazored.SessionStorage.ISessionStorageService sessionStorage { get; set; }
    }
}
#pragma warning restore 1591
